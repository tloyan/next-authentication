# Auth redirection (client/server)

### ğŸ’¡ Rediriger correctement aprÃ¨s une authentification

## ğŸ“ Tes notes

Detaille ce que tu as appris ici,Â surÂ uneÂ pageÂ [Notion](https://go.mikecodeur.com/course-notes-template)

## Comprendre

AprÃ¨s une connexion ou dÃ©connexion on peut avoir a rÃ©diger vers des pages spÃ©cifiques. Le mÃ©canisme de redirection est different entre les RCC et RSC

**Redirection RSC (`redirect`) :**

```tsx
import { redirect } from 'next/navigation'

export default async function Profile({ params }) {
  const user = await getUser()
  if (!user) {
    redirect('/login')
  }
}
```

ğŸ“‘ Le liens vers la doc https://nextjs.org/docs/app/api-reference/functions/redirect

**Redirection RCC (`useRouter`) :**

```tsx
'use client'

import { useRouter } from 'next/navigation'

export default function Page() {
  const router = useRouter()

  return (
    <button
      type="button"
      onClick={() => router.push('/dashboard')}
    >
      Dashboard
    </button>
  )
}
```

ğŸ“‘ Le liens vers la doc https://nextjs.org/docs/app/api-reference/functions/use-router#userouter

## Exercice

- **ğŸ‘¨â€âœˆï¸ Hugo le chef de projet, te demande de rediriger vers le `dahsboard /exercises/dashboard` aprÃ¨s une connexion (ou si lâ€™utilisateur est connectÃ©).**
- **ğŸ‘¨â€âœˆï¸ Hugo le chef de projet, te demande de rediriger vers `auth /exercises/auth` aprÃ¨s une inscription (ou si lâ€™utilisateur est connectÃ©).**
- **ğŸ‘¨â€âœˆï¸ Il te demande Ã©galement de revenir sur la page `Home (/exercises/)` aprÃ¨s une dÃ©connexion**

Fichiers

- `exercise/login/page.tsx`
- `exercise/register/page.tsx`
- `exercise/auth/form/logout-form.tsx`

##

## Aller plus loin

ğŸ“‘ Le lien vers la doc https://nextjs.org/docs/app/api-reference/functions/use-router#userouter

## Ils vont tâ€™aider

- **ğŸ¶ Mowgli le Chien** : _Mowgli te guidera dans chaque exercice._
- **ğŸ¤– Ash le Robot** : _Ash le Robot te donnera du code utile._
- **ğŸš€ Julia La roquette** : _Julia te donnera des dÃ©fis supplÃ©mentaires._
- **â›ï¸ Hulk le Marteau** : _Quand du code Ã  supprimer est prÃ©sent_
- **ğŸ‘¨â€âœˆï¸ Hugo le chef de projet** : _Va t'aider sur les spÃ©cifications du projet_

## ğŸœ Feedback

Remplir le formulaire le [formulaire de FeedBack](https://go.mikecodeur.com/cours-react-avis).
